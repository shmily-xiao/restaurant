{"version":3,"names":[],"mappings":"","sources":["pages/useroperation/useroperation.xml"],"sourcesContent":["<!-- 可用组件：https://mp.weixin.qq.com/debug/wxadoc/dev/component/ -->\r\n<import src=\"../../utils/wxParse/wxParse\"></import>\r\n<view class=\"user-opertaion\">\r\n  <!--我的排单-->\r\n  <view wx:if=\"{{ operation == 'number' }}\" class=\"number\">\r\n    <view class=\"no-number\" wx:if=\"{{ numberList.length == 0 }}\">您还没有取号排队哟</view>\r\n    <view class=\"numberlistwrap\" wx:if=\"{{ numberList.length != 0 }}\" wx:for=\"{{ numberList }}\">\r\n      <view data-id=\"{{ item.s_id }}\" bindtap=\"goshop\" class=\"number-top\">\r\n        <image src=\"{{ item.img }}\"></image>\r\n        <view class=\"n-t-center\">\r\n          <text>{{ item.name }}</text>\r\n          <text>{{ item.cat_name }}|人均{{ item.price }}元|<text class=\"iconfont icon-icglobaltitlebar48iconfontmap\">{{ item.km }}</text>km</text>\r\n        </view>\r\n      </view>\r\n      <view class=\"number-bottom\">\r\n        <text class=\"iconfont icon-danren03\"><text>{{ item.numname }}</text>等待{{ item.count }}桌</text>\r\n        <text>请听到叫号立即到收银台</text>\r\n      </view>\r\n    </view>\r\n  </view>\r\n  <!--我的消息-->\r\n  <view wx:if=\"{{ operation == 'message' }}\" class=\"message\">\r\n    <view bindtap=\"chooseMessage\" data-message=\"{{ index }}\" class=\"message-wrap\" wx:for=\"{{ message }}\" wx:key=\"unique\">\r\n      <view class=\"m-w-top iconfont icon-552cc4077f2ed triangle {{ showMessage === index ? 'triangle-animation' : '' }}\">\r\n        {{ item.name }}\r\n      </view>\r\n      <view class=\"m-w-content\">\r\n        <view class=\"m-w-c-text {{ showMessage !== index ? 'm-w-content-text' : '' }}\">\r\n          <template is=\"wxParse\" data=\"{{ wxParseData:messageTemArr[index] }}\"></template>\r\n        </view>\r\n        <view class=\"timetitle\">{{ item.time }}<view data-id=\"{{ item.s_id }}\" catchtap=\"goshop\" class=\"go-shop\">去这家看看</view></view>\r\n\r\n      <!--<text class=\"m-w-c-text {{ showMessage !== index ? 'm-w-content-text' : '' }}\">{{ item.content }}</text>-->\r\n      <!--<text>{{ item.time }}</text>-->\r\n    </view>\r\n    </view>\r\n  </view>\r\n  <!--我的积分-->\r\n  <view wx:if=\"{{ operation == 'integral' }}\" class=\"integral\">\r\n    <view class=\"integral-wrap\" wx:for=\"{{ integral }}\" wx:key=\"unique\">\r\n      <image src=\"{{ item.img }}\"></image>\r\n      <view class=\"i-w-center\">\r\n        <text>{{ item.name }}{{ item.amount }}元优惠券</text>\r\n        <text>满{{ item.use_price }}元使用</text>\r\n        <text>{{ item.convert_jifen }}积分兑换</text>\r\n        <text>{{ item.start_time }}-{{ item.end_time }}</text>\r\n      </view>\r\n      <view bindtap=\"getCoupon\" class=\"integral-change\" data-shop=\"{{ item.shop_id }}\" data-integralid=\"{{ item.id }}\">立即兑换</view>\r\n    </view>\r\n  </view>\r\n  <!--我的优惠券-->\r\n  <view wx:if=\"{{ operation == 'coupon' }}\" class=\"coupon\">\r\n    <!--顶部tab-->\r\n    <view class=\"coupon-top\">\r\n        <view bindtap=\"chooseCouponTab\" data-tabid=\"{{ index }}\" class=\"coupon-top-item {{ currentCouponTab == index ? 'active' : '' }}\" wx:for=\"{{ couponNumber }}\">\r\n          {{ item.title }}({{ couponsCount[index] }})\r\n        </view>\r\n    </view>\r\n    <view class=\"coupon-no-use\" hidden=\"{{ currentCouponTab != 0 }}\">\r\n      <view class=\"no-coupon\" wx:if=\"{{ couponNoUseList.length == 0 }}\">没有相关的优惠券哦，快去领取吧</view>\r\n      <block wx:if=\"{{ couponNoUseList.length !== 0 }}\" wx:for=\"{{ couponNoUseList }}\">\r\n        <!--todo jump need?-->\r\n        <navigator class=\"coupon-list\" >\r\n        <!--<navigator class=\"coupon-list\" url=\"../detail/detail?s_id={{ item.id }}\">-->\r\n            <view class=\"coupon-list-top\">\r\n              <view class=\"c-l-t-left\">\r\n                <text class=\"c-l-t-left-one\" hidden=\"{{ !item.amount  }}\"><text>￥</text>{{ item.amount }}</text>\r\n                <text class=\"c-l-t-left-one\" hidden=\"{{ !item.discount  }}\">{{ item.discount }} <text>折</text></text>\r\n              </view>\r\n              <view class=\"c-l-t-center\">满{{ item.use_price }}元使用</view>\r\n              <view class=\"c-l-t-right iconfont icon-youhuiquan\">{{ item.name }}</view>\r\n            </view>\r\n            <!--圆圈-->\r\n            <view class=\"circle\">\r\n              <view class=\"circle-item\" wx:for=\"123456789qwertyuiopasdfghjklzxcvbnmqweqweq\"></view>\r\n            </view>\r\n            <view class=\"time\">\r\n              有效期　　{{ item.start_time }}-{{ item.end_time }}\r\n            </view>\r\n        </navigator>\r\n      </block>\r\n    </view>\r\n    <view class=\"coupon-use\" hidden=\"{{ currentCouponTab != 1 }}\">\r\n      <view class=\"no-coupon\" wx:if=\"{{ couponUseList.length == 0 }}\">没有相关的优惠券哦，快去领取吧</view>\r\n      <block wx:if=\"{{ couponUseList.length !== 0 }}\" wx:for=\"{{ couponUseList }}\">\r\n        <view class=\"coupon-list\">\r\n          <view class=\"coupon-list-top\">\r\n            <view class=\"c-l-t-left\">\r\n              <text class=\"c-l-t-left-one\" hidden=\"{{ !item.amount  }}\"><text>￥</text>{{ item.amount }}</text>\r\n              <text class=\"c-l-t-left-one\" hidden=\"{{ !item.discount  }}\">{{ item.discount }} <text>折</text></text>\r\n            </view>\r\n            <view class=\"c-l-t-center\">{{ item.cou_name }}</view>\r\n            <view class=\"c-l-t-right iconfont icon-youhuiquan\">{{ item.name }}</view>\r\n          </view>\r\n          <!--圆圈-->\r\n          <view class=\"circle\">\r\n            <view class=\"circle-item\" wx:for=\"123456789qwertyuiopasdfghjklzxcvbnmqweqweq\"></view>\r\n          </view>\r\n          <view class=\"time\">\r\n            有效期　　{{ item.star_time }}-{{ item.end_time }}\r\n          </view>\r\n        </view>\r\n      </block>\r\n    </view>\r\n    <view class=\"coupon-use-finish\" hidden=\"{{ currentCouponTab != 2 }}\">\r\n      <view class=\"no-coupon\" wx:if=\"{{ couponOutList.length == 0 }}\">没有相关的优惠券哦，快去领取吧</view>\r\n      <block wx:if=\"{{ couponOutList.length !== 0 }}\" wx:for=\"{{ couponOutList }}\">\r\n        <view class=\"coupon-list\">\r\n          <view class=\"coupon-list-top\">\r\n            <view class=\"c-l-t-left\">\r\n              <text class=\"c-l-t-left-one\" hidden=\"{{ !item.amount  }}\"><text>￥</text>{{ item.amount }}</text>\r\n              <text class=\"c-l-t-left-one\" hidden=\"{{ !item.discount  }}\">{{ item.discount }} <text>折</text></text>\r\n            </view>\r\n            <view class=\"c-l-t-center\">{{ item.cou_name }}</view>\r\n            <view class=\"c-l-t-right iconfont icon-youhuiquan\">{{ item.name }}</view>\r\n          </view>\r\n          <!--圆圈-->\r\n          <view class=\"circle\">\r\n            <view class=\"circle-item\" wx:for=\"123456789qwertyuiopasdfghjklzxcvbnmqweqweq\"></view>\r\n          </view>\r\n          <view class=\"time\">\r\n            有效期　　{{ item.start_time }}-{{ item.end_time }}\r\n          </view>\r\n        </view>\r\n      </block>\r\n    </view>\r\n  </view>\r\n  <!--我的订单-->\r\n  <view wx:if=\"{{ operation == 'order' }}\" class=\"order\">\r\n    <view class=\"coupon-top\">\r\n      <view bindtap=\"chooseCouponTab\" data-tabid=\"{{ index }}\" class=\"coupon-top-item {{ currentCouponTab == index ? 'active' : '' }}\" wx:for=\"{{ orderNumber }}\">\r\n        {{ item }}\r\n      </view>\r\n    </view>\r\n    <view class=\"order-pend \" hidden=\"{{ currentCouponTab != 0 }}\">\r\n      <view class=\"no-order\" wx:if=\"{{ !orderList.pay }}\">亲爱的，您没有未支付的订单咯</view>\r\n      <view wx:if=\"{{ orderList.pay.length !== 0 }}\" class=\"go-pay\" wx:for=\"{{ orderList.pay }}\">\r\n        <view class=\"go-pay-top\">\r\n          <image src=\"{{ item.img }}\"></image>\r\n          <view class=\"g-p-t-center\">\r\n            <text>{{ item.name }}</text>\r\n            <text>{{ item.order_no }}</text>\r\n            <text>{{ item.addtime }}</text>\r\n          </view>\r\n        </view>\r\n        <view class=\"go-pay-bottom\">\r\n          <text>￥{{ item.order_price }}</text>\r\n          <view class=\"go-pay-btn\" bindtap=\"goPay\" data-shop=\"{{ item.shop_id }}\" data-id=\"{{ item.id }}\">去支付</view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <view class=\"order-all \" hidden=\"{{ currentCouponTab != 1 }}\">\r\n      <view class=\"no-order\" wx:if=\"{{ !(orderList.pay && orderList.finish && orderList.cancel) }}\">亲爱的，您还没有消费过哦</view>\r\n      <view class=\"go-pay\" wx:for=\"{{ orderList.pay }}\">\r\n        <view class=\"go-pay-top\">\r\n          <image src=\"{{ item.img }}\"></image>\r\n          <view class=\"g-p-t-center\">\r\n            <text>{{ item.name }}</text>\r\n            <text>{{ item.order_no }}</text>\r\n            <text>{{ item.addtime }}</text>\r\n          </view>\r\n        </view>\r\n        <view class=\"go-pay-bottom\">\r\n          <text>￥{{ item.order_price }}</text>\r\n          <view class=\"go-pay-btn\" bindtap=\"goPay\" data-shop=\"{{ item.shop_id }}\" data-id=\"{{ item.id }}\">去支付</view>\r\n        </view>\r\n      </view>\r\n      <view class=\"go-finish\" wx:for=\"{{ orderList.finish }}\">\r\n        <view class=\"go-pay-top\">\r\n          <image src=\"{{ item.img }}\"></image>\r\n          <view class=\"g-p-t-center\">\r\n            <text>{{ item.name }}</text>\r\n            <text>{{ item.order_no }}</text>\r\n            <text>{{ item.addtime }}</text>\r\n          </view>\r\n          <view class=\"iconfont icon-bhjyizhifu\"></view>\r\n        </view>\r\n        <view class=\"go-pay-bottom\">\r\n          <text>消费￥{{ item.order_price }}</text>\r\n          <text>优惠￥{{ item.coupons_price }}</text>\r\n          <text>实付<text class=\"act-money\">￥{{ item.order_price - item.coupons_price }}</text></text>\r\n        </view>\r\n        <view class=\"show-btn\">\r\n          <view wx:if=\"{{ item.status == 3 }}\" data-oid=\"{{ item.id }}\" data-restaurantid=\"{{ item.shop_id }}\" data-kind=\"shop\" bindtap=\"goGratuity\">给店家打分</view>\r\n          <view class=\"green\" wx:if=\"{{ item.status == 4 }}\">已给店家打分</view>\r\n          <!--<view data-waiterid=\"{{ orderList.finish.waiterId }}\" data-kind=\"worker\" bindtap=\"goGratuity\">给服务员打赏</view>-->\r\n        </view>\r\n      </view>\r\n      <view class=\"cancel-pay\" wx:for=\"{{ orderList.cancel }}\">\r\n        <view class=\"go-pay-top\">\r\n          <image src=\"{{ item.img }}\"></image>\r\n          <view class=\"g-p-t-center\">\r\n            <text>{{ item.name }}</text>\r\n            <text>{{ item.order_no }}</text>\r\n            <text>{{ item.addtime }}</text>\r\n          </view>\r\n          <view class=\"iconfont icon-tubiaoyiquxiao01\"></view>\r\n        </view>\r\n        <view class=\"go-pay-bottom\">\r\n          <text>消费￥{{ item.order_price }}</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n  <!--商家入驻-->\r\n  <view wx:if=\"{{ operation == 'merchant' }}\" class=\"merchant\">\r\n    <view class=\"img-wrap\">\r\n      <image src=\"../../images/1.png\"></image>\r\n    </view>\r\n    <view class=\"merchant-introduce\">先简单介绍你的店铺吧</view>\r\n    <view class=\"merchant-input\">\r\n      <input bindinput=\"shopNameInput\" placeholder=\"请输入您的店铺名称\"/>\r\n      <!--<view bindtap=\"chooseShopKind\" class=\"triangle\">{{ shopKind }}</view>-->\r\n      <picker class=\"triangle\" bindchange=\"chooseShopKind\" value=\"{{ index }}\" range=\"{{ shopArray }}\">\r\n        <view class=\"picker\">\r\n          {{ shopArray[index] }}\r\n        </view>\r\n      </picker>\r\n    </view>\r\n    <button bindtap=\"startShop\" class=\"start-shop\">去开店</button>\r\n  </view>\r\n</view>"],"file":"useroperation.wxml"}