{"version":3,"sources":["pages/showShop/showShop.js"],"names":["app","getApp","useUrl","require","Page","data","title","nearShop","star","getpaidui","param","that","userSite","wx","getStorageSync","url","serviceUrl","obj","session_key","latitude","longitude","success","res","setData","requestInfo","onLoad","e","type","setNavigationBarTitle","onReady","onShow","onHide","onUnload","onPullDownRefresh"],"mappings":";;AAAA;AACA,IAAMA,MAAMC,QAAZ;AACA,IAAMC,SAASC,QAAQ,qBAAR,CAAf;AACA;AACAC,KAAK;AACH;;;AAGAC,QAAM;AACJC,WAAO,MADH;AAEJC,cAAU,EAFN;AAGJC,UAAM,CAAC,WAAD,EAAc,UAAd,EAA0B,UAA1B,EAAsC,YAAtC,EAAoD,WAApD,EAAiE,WAAjE;AAHF,GAJH;AASH;;;AAGAC,WAZG,qBAYQC,KAZR,EAYe;AAChB,QAAIC,OAAO,IAAX;AACA,QAAIC,WAAWC,GAAGC,cAAH,CAAkB,UAAlB,CAAf;AACA,QAAIC,MAAMb,OAAOc,UAAP,CAAkBN,KAAlB,CAAV;AACA,QAAIO,MAAM;AACRF,WAAKA,GADG;AAERV,YAAM;AACJa,qBAAaL,GAAGC,cAAH,CAAkB,aAAlB,CADT;AAEJK,kBAAUP,SAASO,QAFf;AAGJC,mBAAWR,SAASQ;AAHhB,OAFE;AAORC,aAPQ,mBAOCC,GAPD,EAOM;AACZ,YAAI,CAACA,IAAIjB,IAAJ,CAASA,IAAd,EAAoB;AACpBM,aAAKY,OAAL,CAAa;AACXhB,oBAAUe,IAAIjB,IAAJ,CAASA;AADR,SAAb;AAGD;AAZO,KAAV;AAcAL,QAAIwB,WAAJ,CAAgBP,GAAhB;AACD,GA/BE;;AAgCH;;;AAGAQ,QAnCG,kBAmCKC,CAnCL,EAmCQ;AACT;AACA,QAAIA,EAAEC,IAAF,KAAW,GAAf,EAAoB;AAClBd,SAAGe,qBAAH,CAAyB;AACvBtB,eAAO;AADgB,OAAzB;AAGA,WAAKiB,OAAL,CAAa;AACXjB,eAAO;AADI,OAAb;AAGA,WAAKG,SAAL,CAAe,aAAf;AACD,KARD,MAQO;AACL,WAAKA,SAAL,CAAe,aAAf;AACD;AACD;AACD,GAjDE;;;AAmDH;;;AAGAoB,SAtDG,qBAsDQ;AACT;AACD,GAxDE;;;AA0DH;;;AAGAC,QA7DG,oBA6DO;AACR;AACD,GA/DE;;;AAiEH;;;AAGAC,QApEG,oBAoEO;AACR;AACD,GAtEE;;;AAwEH;;;AAGAC,UA3EG,sBA2ES;AACV;AACD,GA7EE;;;AA+EH;;;AAGAC,mBAlFG,+BAkFkB;AACnB;AACD;AApFE,CAAL","file":"showShop.js","sourcesContent":["// 获取全局应用程序实例对象\r\nconst app = getApp()\r\nconst useUrl = require('../../utils/service')\r\n// 创建页面实例对象\r\nPage({\r\n  /**\r\n   * 页面的初始数据\r\n   */\r\n  data: {\r\n    title: '排队取号',\r\n    nearShop: [],\r\n    star: ['zero-star', 'one-star', 'two-star', 'three-star', 'four-star', 'five-star']\r\n  },\r\n  /**\r\n   * 排队、预约取号\r\n   */\r\n  getpaidui (param) {\r\n    let that = this\r\n    let userSite = wx.getStorageSync('userSite')\r\n    let url = useUrl.serviceUrl[param]\r\n    let obj = {\r\n      url: url,\r\n      data: {\r\n        session_key: wx.getStorageSync('session_key'),\r\n        latitude: userSite.latitude,\r\n        longitude: userSite.longitude\r\n      },\r\n      success (res) {\r\n        if (!res.data.data) return\r\n        that.setData({\r\n          nearShop: res.data.data\r\n        })\r\n      }\r\n    }\r\n    app.requestInfo(obj)\r\n  },\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad (e) {\r\n    // console.log(e)\r\n    if (e.type === '1') {\r\n      wx.setNavigationBarTitle({\r\n        title: '预约取号'\r\n      })\r\n      this.setData({\r\n        title: '预约订座'\r\n      })\r\n      this.getpaidui('yuding_shop')\r\n    } else {\r\n      this.getpaidui('paidui_shop')\r\n    }\r\n    // TODO: onLoad\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面初次渲染完成\r\n   */\r\n  onReady () {\r\n    // TODO: onReady\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面显示\r\n   */\r\n  onShow () {\r\n    // TODO: onShow\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面隐藏\r\n   */\r\n  onHide () {\r\n    // TODO: onHide\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面卸载\r\n   */\r\n  onUnload () {\r\n    // TODO: onUnload\r\n  },\r\n\r\n  /**\r\n   * 页面相关事件处理函数--监听用户下拉动作\r\n   */\r\n  onPullDownRefresh () {\r\n    // TODO: onPullDownRefresh\r\n  }\r\n})\r\n"]}