{"version":3,"sources":["pages/gratuity/gratuity.js"],"names":["Page","data","title","currentStar","chooseArr","waiter","img","name","grade","score","comment","chooseStar","e","setData","currentTarget","dataset","star","choosetip","index","choose","send","wx","showToast","icon","duration","success","switchTab","url","setChosseArr","i","length","push","onLoad","onReady","onShow","onHide","onUnload","onPullDownRefresh"],"mappings":";;AAAA;AACA;;AAEA;AACAA,KAAK;AACH;;;AAGAC,QAAM;AACJC,WAAO,UADH;AAEJC,iBAAa,CAFT;AAGJC,eAAW,EAHP;AAIJC,YAAQ;AACNC,WAAK,sEADC;AAENC,YAAM,IAFA;AAGNC,aAAO,WAHD;AAINC,aAAO,KAJD;AAKNP,aAAO,CAAC,MAAD,EAAS,KAAT,EAAgB,KAAhB,CALD;AAMNQ,eAAS,CAAC,OAAD,EAAU,KAAV,EAAiB,MAAjB,EAAyB,KAAzB,EAAgC,QAAhC,EAA0C,QAA1C;AANH;AAJJ,GAJH;AAiBH;;;;AAIAC,YArBG,sBAqBSC,CArBT,EAqBY;AACb,SAAKC,OAAL,CAAa;AACXV,mBAAaS,EAAEE,aAAF,CAAgBC,OAAhB,CAAwBC;AAD1B,KAAb;AAGD,GAzBE;;AA0BH;;;;AAIAC,WA9BG,qBA8BQL,CA9BR,EA8BW;AACZ,QAAIM,QAAQN,EAAEE,aAAF,CAAgBC,OAAhB,CAAwBI,MAApC;AACA,SAAKlB,IAAL,CAAUG,SAAV,CAAoBc,KAApB,IAA6B,CAAC,KAAKjB,IAAL,CAAUG,SAAV,CAAoBc,KAApB,CAA9B;AACA,SAAKL,OAAL,CAAa;AACXT,iBAAW,KAAKH,IAAL,CAAUG;AADV,KAAb;AAGD,GApCE;;AAqCH;;;AAGAgB,MAxCG,kBAwCK;AACNC,OAAGC,SAAH,CAAa;AACXpB,aAAO,IADI;AAEXqB,YAAM,SAFK;AAGXC,gBAAU,IAHC;AAIXC,aAJW,qBAIA;AACTJ,WAAGK,SAAH,CAAa;AACXC,eAAK;AADM,SAAb;AAGD;AARU,KAAb;AAUD,GAnDE;;AAoDH;;;AAGAC,cAvDG,0BAuDa;AACd,QAAIlB,UAAU,KAAKT,IAAL,CAAUI,MAAV,CAAiBK,OAA/B;AACA,QAAIN,YAAY,EAAhB;AACA,SAAK,IAAIyB,IAAI,CAAb,EAAgBA,IAAInB,QAAQoB,MAA5B,EAAoCD,GAApC,EAAyC;AACvCzB,gBAAU2B,IAAV,CAAe,KAAf;AACD;AACD,SAAKlB,OAAL,CAAa;AACXT,iBAAWA;AADA,KAAb;AAGD,GAhEE;;AAiEH;;;AAGA4B,QApEG,oBAoEO;AACR;AACA;AACA,SAAKJ,YAAL;AACD,GAxEE;;;AA0EH;;;AAGAK,SA7EG,qBA6EQ;AACT;AACD,GA/EE;;;AAiFH;;;AAGAC,QApFG,oBAoFO;AACR;AACD,GAtFE;;;AAwFH;;;AAGAC,QA3FG,oBA2FO;AACR;AACD,GA7FE;;;AA+FH;;;AAGAC,UAlGG,sBAkGS;AACV;AACD,GApGE;;;AAsGH;;;AAGAC,mBAzGG,+BAyGkB;AACnB;AACD;AA3GE,CAAL","file":"gratuity.js","sourcesContent":["// 获取全局应用程序实例对象\r\n// const app = getApp()\r\n\r\n// 创建页面实例对象\r\nPage({\r\n  /**\r\n   * 页面的初始数据\r\n   */\r\n  data: {\r\n    title: 'gratuity',\r\n    currentStar: 4,\r\n    chooseArr: [],\r\n    waiter: {\r\n      img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\r\n      name: '张三',\r\n      grade: 'four-star',\r\n      score: '4.8',\r\n      title: ['服务周到', '负责任', '有礼貌'],\r\n      comment: ['服务态度好', '分量足', '热情周到', '味道赞', '长得帅有食欲', '人很nice']\r\n    }\r\n  },\r\n  /**\r\n   * 星星打分\r\n   * @param e\r\n   */\r\n  chooseStar (e) {\r\n    this.setData({\r\n      currentStar: e.currentTarget.dataset.star\r\n    })\r\n  },\r\n  /**\r\n   * 改变标签选择\r\n   * @param e\r\n   */\r\n  choosetip (e) {\r\n    let index = e.currentTarget.dataset.choose\r\n    this.data.chooseArr[index] = !this.data.chooseArr[index]\r\n    this.setData({\r\n      chooseArr: this.data.chooseArr\r\n    })\r\n  },\r\n  /**\r\n   * 打赏发送\r\n   */\r\n  send () {\r\n    wx.showToast({\r\n      title: '成功',\r\n      icon: 'success',\r\n      duration: 2000,\r\n      success () {\r\n        wx.switchTab({\r\n          url: '../index/index'\r\n        })\r\n      }\r\n    })\r\n  },\r\n  /**\r\n   * 初始化标签选择项\r\n   */\r\n  setChosseArr () {\r\n    let comment = this.data.waiter.comment\r\n    let chooseArr = []\r\n    for (let i = 0; i < comment.length; i++) {\r\n      chooseArr.push(false)\r\n    }\r\n    this.setData({\r\n      chooseArr: chooseArr\r\n    })\r\n  },\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad () {\r\n    // TODO: onLoad\r\n    // 初始化chooseArr\r\n    this.setChosseArr()\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面初次渲染完成\r\n   */\r\n  onReady () {\r\n    // TODO: onReady\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面显示\r\n   */\r\n  onShow () {\r\n    // TODO: onShow\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面隐藏\r\n   */\r\n  onHide () {\r\n    // TODO: onHide\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面卸载\r\n   */\r\n  onUnload () {\r\n    // TODO: onUnload\r\n  },\r\n\r\n  /**\r\n   * 页面相关事件处理函数--监听用户下拉动作\r\n   */\r\n  onPullDownRefresh () {\r\n    // TODO: onPullDownRefresh\r\n  }\r\n})\r\n"]}