{"version":3,"sources":["utils/wxParse/html2json.js"],"names":["__placeImgeUrlHttps","__emojisReg","__emojisBaseSrc","__emojis","wxDiscode","require","HTMLParser","empty","makeMap","block","inline","closeSelf","fillAttrs","special","str","obj","items","split","i","length","q","v","removeDOCTYPE","html","replace","html2json","bindName","strDiscode","bufArray","results","node","nodes","images","imageUrls","start","tag","attrs","unary","tagType","attr","reduce","pre","name","value","console","dir","classStr","styleStr","match","Array","isArray","push","imgIndex","imgUrl","src","urlToHttpUrl","from","fontSize","styleAttrs","style","key","source","parent","undefined","unshift","end","shift","error","result","chars","text","textArray","transEmojiStr","comment","emojiObjs","emojiObj","array","eReg","RegExp","ele","baseSrc","emojisInit","reg","emojis","module","exports"],"mappings":"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","file":"html2json.js","sourcesContent":["/**\r\n * html2Json 改造来自: https://github.com/Jxck/html2json\r\n * author: Di (微信小程序开发工程师)\r\n * organization: WeAppDev(微信小程序开发论坛)(http://weappdev.com)\r\n *               垂直微信小程序开发交流社区\r\n * github地址: https://github.com/icindy/wxParse\r\n * for: 微信小程序富文本解析\r\n * detail : http://weappdev.com/t/wxparse-alpha0-1-html-markdown/184\r\n */\r\n/*eslint-disable */\r\nvar __placeImgeUrlHttps = \"https\";\r\nvar __emojisReg = '';\r\nvar __emojisBaseSrc = '';\r\nvar __emojis = {};\r\nvar wxDiscode = require('./wxDiscode.js');\r\nvar HTMLParser = require('./htmlparser.js');\r\n// Empty Elements - HTML 5\r\nvar empty = makeMap(\"area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr\");\r\n// Block Elements - HTML 5\r\nvar block = makeMap(\"br,a,code,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video\");\r\n\r\n// Inline Elements - HTML 5\r\nvar inline = makeMap(\"abbr,acronym,applet,b,basefont,bdo,big,button,cite,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var\");\r\n\r\n// Elements that you can, intentionally, leave open\r\n// (and which close themselves)\r\nvar closeSelf = makeMap(\"colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr\");\r\n\r\n// Attributes that have their values filled in disabled=\"disabled\"\r\nvar fillAttrs = makeMap(\"checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected\");\r\n\r\n// Special Elements (can contain anything)\r\nvar special = makeMap(\"wxxxcode-style,script,style,view,scroll-view,block\");\r\nfunction makeMap(str) {\r\n    var obj = {}, items = str.split(\",\");\r\n    for (var i = 0; i < items.length; i++)\r\n        obj[items[i]] = true;\r\n    return obj;\r\n}\r\n\r\nfunction q(v) {\r\n    return '\"' + v + '\"';\r\n}\r\n\r\nfunction removeDOCTYPE(html) {\r\n    return html\r\n        .replace(/<\\?xml.*\\?>\\n/, '')\r\n        .replace(/<.*!doctype.*\\>\\n/, '')\r\n        .replace(/<.*!DOCTYPE.*\\>\\n/, '');\r\n}\r\n\r\n\r\nfunction html2json(html, bindName) {\r\n    //处理字符串\r\n    html = removeDOCTYPE(html);\r\n    html = wxDiscode.strDiscode(html);\r\n    //生成node节点\r\n    var bufArray = [];\r\n    var results = {\r\n        node: bindName,\r\n        nodes: [],\r\n        images:[],\r\n        imageUrls:[]\r\n    };\r\n    HTMLParser(html, {\r\n        start: function (tag, attrs, unary) {\r\n            //debug(tag, attrs, unary);\r\n            // node for this element\r\n            var node = {\r\n                node: 'element',\r\n                tag: tag,\r\n            };\r\n\r\n            if (block[tag]) {\r\n                node.tagType = \"block\";\r\n            } else if (inline[tag]) {\r\n                node.tagType = \"inline\";\r\n            } else if (closeSelf[tag]) {\r\n                node.tagType = \"closeSelf\";\r\n            }\r\n\r\n            if (attrs.length !== 0) {\r\n                node.attr = attrs.reduce(function (pre, attr) {\r\n                    var name = attr.name;\r\n                    var value = attr.value;\r\n                    if (name == 'class') {\r\n                        console.dir(value);\r\n                        //  value = value.join(\"\")\r\n                        node.classStr = value;\r\n                    }\r\n                    // has multi attibutes\r\n                    // make it array of attribute\r\n                    if (name == 'style') {\r\n                        console.dir(value);\r\n                        //  value = value.join(\"\")\r\n                        node.styleStr = value;\r\n                    }\r\n                    if (value.match(/ /)) {\r\n                        value = value.split(' ');\r\n                    }\r\n                    \r\n\r\n                    // if attr already exists\r\n                    // merge it\r\n                    if (pre[name]) {\r\n                        if (Array.isArray(pre[name])) {\r\n                            // already array, push to last\r\n                            pre[name].push(value);\r\n                        } else {\r\n                            // single value, make it array\r\n                            pre[name] = [pre[name], value];\r\n                        }\r\n                    } else {\r\n                        // not exist, put it\r\n                        pre[name] = value;\r\n                    }\r\n\r\n                    return pre;\r\n                }, {});\r\n            }\r\n\r\n            //对img添加额外数据\r\n            if (node.tag === 'img') {\r\n                node.imgIndex = results.images.length;\r\n                var imgUrl = node.attr.src;\r\n                imgUrl = wxDiscode.urlToHttpUrl(imgUrl, __placeImgeUrlHttps);\r\n                node.attr.src = imgUrl;\r\n                node.from = bindName;\r\n                results.images.push(node);\r\n                results.imageUrls.push(imgUrl);\r\n            }\r\n            \r\n            // 处理font标签样式属性\r\n            if (node.tag === 'font') {\r\n                var fontSize = ['x-small', 'small', 'medium', 'large', 'x-large', 'xx-large', '-webkit-xxx-large'];\r\n                var styleAttrs = {\r\n                    'color': 'color',\r\n                    'face': 'font-family',\r\n                    'size': 'font-size'\r\n                };\r\n                if (!node.attr.style) node.attr.style = [];\r\n                if (!node.styleStr) node.styleStr = '';\r\n                for (var key in styleAttrs) {\r\n                    if (node.attr[key]) {\r\n                        var value = key === 'size' ? fontSize[node.attr[key]-1] : node.attr[key];\r\n                        node.attr.style.push(styleAttrs[key]);\r\n                        node.attr.style.push(value);\r\n                        node.styleStr += styleAttrs[key] + ': ' + value + ';';\r\n                    }\r\n                }\r\n            }\r\n\r\n            //临时记录source资源\r\n            if(node.tag === 'source'){\r\n                results.source = node.attr.src;\r\n            }\r\n            \r\n            if (unary) {\r\n                // if this tag dosen't have end tag\r\n                // like <img src=\"hoge.png\"/>\r\n                // add to parents\r\n                var parent = bufArray[0] || results;\r\n                if (parent.nodes === undefined) {\r\n                    parent.nodes = [];\r\n                }\r\n                parent.nodes.push(node);\r\n            } else {\r\n                bufArray.unshift(node);\r\n            }\r\n        },\r\n        end: function (tag) {\r\n            //debug(tag);\r\n            // merge into parent tag\r\n            var node = bufArray.shift();\r\n            if (node.tag !== tag) console.error('invalid state: mismatch end tag');\r\n\r\n            //当有缓存source资源时于于video补上src资源\r\n            if(node.tag === 'video' && results.source){\r\n                node.attr.src = results.source;\r\n                delete result.source;\r\n            }\r\n            \r\n            if (bufArray.length === 0) {\r\n                results.nodes.push(node);\r\n            } else {\r\n                var parent = bufArray[0];\r\n                if (parent.nodes === undefined) {\r\n                    parent.nodes = [];\r\n                }\r\n                parent.nodes.push(node);\r\n            }\r\n        },\r\n        chars: function (text) {\r\n            //debug(text);\r\n            var node = {\r\n                node: 'text',\r\n                text: text,\r\n                textArray:transEmojiStr(text)\r\n            };\r\n            \r\n            if (bufArray.length === 0) {\r\n                results.nodes.push(node);\r\n            } else {\r\n                var parent = bufArray[0];\r\n                if (parent.nodes === undefined) {\r\n                    parent.nodes = [];\r\n                }\r\n                parent.nodes.push(node);\r\n            }\r\n        },\r\n        comment: function (text) {\r\n            //debug(text);\r\n            // var node = {\r\n            //     node: 'comment',\r\n            //     text: text,\r\n            // };\r\n            // var parent = bufArray[0];\r\n            // if (parent.nodes === undefined) {\r\n            //     parent.nodes = [];\r\n            // }\r\n            // parent.nodes.push(node);\r\n        },\r\n    });\r\n    return results;\r\n};\r\n\r\nfunction transEmojiStr(str){\r\n  // var eReg = new RegExp(\"[\"+__reg+' '+\"]\");\r\n//   str = str.replace(/\\[([^\\[\\]]+)\\]/g,':$1:')\r\n  \r\n  var emojiObjs = [];\r\n  //如果正则表达式为空\r\n  if(__emojisReg.length == 0 || !__emojis){\r\n      var emojiObj = {}\r\n      emojiObj.node = \"text\";\r\n      emojiObj.text = str;\r\n      array = [emojiObj];\r\n      return array;\r\n  }\r\n  //这个地方需要调整\r\n  str = str.replace(/\\[([^\\[\\]]+)\\]/g,':$1:')\r\n  var eReg = new RegExp(\"[:]\");\r\n  var array = str.split(eReg);\r\n  for(var i = 0; i < array.length; i++){\r\n    var ele = array[i];\r\n    var emojiObj = {};\r\n    if(__emojis[ele]){\r\n      emojiObj.node = \"element\";\r\n      emojiObj.tag = \"emoji\";\r\n      emojiObj.text = __emojis[ele];\r\n      emojiObj.baseSrc= __emojisBaseSrc;\r\n    }else{\r\n      emojiObj.node = \"text\";\r\n      emojiObj.text = ele;\r\n    }\r\n    emojiObjs.push(emojiObj);\r\n  }\r\n  \r\n  return emojiObjs;\r\n}\r\n\r\nfunction emojisInit(reg='',baseSrc=\"/wxParse/emojis/\",emojis){\r\n    __emojisReg = reg;\r\n    __emojisBaseSrc=baseSrc;\r\n    __emojis=emojis;\r\n}\r\n\r\nmodule.exports = {\r\n    html2json: html2json,\r\n    emojisInit:emojisInit\r\n};\r\n/*eslint-enable */\r\n"]}